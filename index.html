<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta
      name="description"
      content="Premium Fitness Training mit exklusiven Inhalten - Upgrade und Downgrade jederzeit m√∂glich"
    />
    <!-- Cache-Control f√ºr Development -->
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>FittiCoach - Premium Fitness Training</title>
    <link rel="stylesheet" href="styles.css" />

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <!-- ADMIN BEREICH (nur sichtbar f√ºr Coaches/Admins) -->
    <div
      id="adminArea"
      style="
        display: none;
        padding: 2rem;
        background: #f9f9f9;
        margin-top: 2rem;
        border-top: 3px solid var(--primary);
      "
    >
      <h2>üõ†Ô∏è Coach-Admin-Bereich</h2>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="adminUsers">
          Nutzer & Pl√§ne
        </button>
        <button class="tab-btn" data-tab="adminPayments">Zahlungen</button>
        <button class="tab-btn" data-tab="adminContent">
          Inhalte verwalten
        </button>
      </div>

      <!-- Tab: Nutzer & Pl√§ne -->
      <div id="adminUsers" class="tab-content active">
        <h3>Nutzer√ºbersicht</h3>
        <input
          type="text"
          id="searchUsers"
          placeholder="Suche nach Name oder E-Mail..."
          style="width: 100%; padding: 0.5rem; margin-bottom: 1rem"
        />
        <div id="usersTableContainer"></div>
      </div>

      <!-- Tab: Zahlungen -->
      <div id="adminPayments" class="tab-content">
        <h3>Zahlungs√ºbersicht</h3>
        <div id="paymentsTableContainer"></div>
      </div>

      <!-- Tab: Inhalte verwalten -->
      <div id="adminContent" class="tab-content">
        <h3>Inhalte hochladen & verwalten</h3>
        <form id="uploadContentForm">
          <div class="form-group">
            <label>Titel</label>
            <input type="text" name="title" required />
          </div>
          <div class="form-group">
            <label>Beschreibung</label>
            <textarea name="description"></textarea>
          </div>
          <div class="form-group">
            <label>Datei (Video, PDF, Bild)</label>
            <input
              type="file"
              name="file"
              accept="video/*,application/pdf,image/*"
              required
            />
          </div>
          <div class="form-group">
            <label>Thumbnail (optional)</label>
            <input type="file" name="thumbnail" accept="image/*" />
          </div>
          <div class="form-group">
            <label>Typ</label>
            <select name="type" required>
              <option value="video">Video</option>
              <option value="document">Dokument</option>
              <option value="image">Bild</option>
            </select>
          </div>
          <div class="form-group">
            <label>Erforderlicher Plan</label>
            <select name="required_plan" required>
              <option value="basic">Basis</option>
              <option value="premium">Premium</option>
              <option value="elite">Elite</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary">Hochladen</button>
        </form>

        <hr />
        <h4>Vorhandene Inhalte</h4>
        <div id="existingContentList"></div>
      </div>
    </div>
    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-banner" style="display: none">
      <div class="cookie-content">
        <div class="cookie-text">
          <h3>üç™ Cookie-Einstellungen</h3>
          <p>
            Wir verwenden Cookies, um dir die bestm√∂gliche Erfahrung zu bieten.
            Essentielle Cookies sind f√ºr die Funktion der Website notwendig.
            Weitere Informationen findest du in unserer
            <a href="datenschutz.html" target="_blank">Datenschutzerkl√§rung</a>
            und <a href="cookies.html" target="_blank">Cookie-Richtlinie</a>.
          </p>
        </div>
        <div class="cookie-buttons">
          <button id="acceptAll" class="btn btn-primary">
            Alle akzeptieren
          </button>
          <button id="acceptEssential" class="btn btn-secondary">
            Nur Notwendige
          </button>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <nav>
      <div class="container">
        <a href="/" class="logo">üèãÔ∏è FittiCoach</a>
        <div class="nav-buttons">
          <button id="loginBtn" class="btn btn-primary">Anmelden</button>
          <button
            id="logoutBtn"
            class="btn btn-secondary"
            style="display: none"
          >
            Abmelden
          </button>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1>Werde die beste Version von dir</h1>
        <p>
          Professionelle Trainingspl√§ne, Ern√§hrungsguides und exklusive Videos
          von zertifizierten Coaches. Upgrade oder Downgrade jederzeit m√∂glich!
        </p>
        <button
          id="ctaBtn"
          class="btn btn-primary"
          style="font-size: 1.1rem; padding: 1rem 2rem"
        >
          Jetzt starten
        </button>
      </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing">
      <div class="container">
        <h2 class="text-center">W√§hle deinen Plan</h2>
        <p class="text-center" style="color: #999; margin-bottom: 3rem">
          Alle Pl√§ne mit 30 Tage Geld-zur√ºck-Garantie ‚Ä¢ Jederzeit upgraden oder
          downgraden
        </p>

        <div class="pricing-cards">
          <!-- Basic Plan -->
          <div class="pricing-card">
            <h3>Basis</h3>
            <div class="price">‚Ç¨29<span>/Monat</span></div>
            <ul class="features">
              <li>Grundlegende Trainingspl√§ne</li>
              <li>Basis √úbungsvideos</li>
              <li>Community-Zugang</li>
              <li>E-Mail Support</li>
            </ul>
            <button class="subscribe-btn" data-plan="basic">
              Basis w√§hlen
            </button>
          </div>

          <!-- Premium Plan -->
          <div class="pricing-card featured">
            <div class="featured-badge">‚≠ê BELIEBT</div>
            <h3>Premium</h3>
            <div class="price">‚Ç¨59<span>/Monat</span></div>
            <ul class="features">
              <li>Alle Basis-Features</li>
              <li>Erweiterte Trainingspl√§ne</li>
              <li>Premium Videos & Tutorials</li>
              <li>Ern√§hrungsguides</li>
              <li>Vorrang-Support</li>
            </ul>
            <button class="subscribe-btn" data-plan="premium">
              Premium w√§hlen
            </button>
          </div>

          <!-- Elite Plan -->
          <div class="pricing-card">
            <h3>Elite</h3>
            <div class="price">‚Ç¨99<span>/Monat</span></div>
            <ul class="features">
              <li>Alle Premium-Features</li>
              <li>Pers√∂nliche Trainingspl√§ne</li>
              <li>1:1 Video-Coaching</li>
              <li>Individuelle Ern√§hrungspl√§ne</li>
              <li>24/7 Premium Support</li>
              <li>Exklusive Community</li>
            </ul>
            <button class="subscribe-btn" data-plan="elite">
              Elite w√§hlen
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Members Area -->
    <section id="membersArea" style="display: none">
      <div class="container">
        <!-- User Info -->
        <div class="user-info" id="userInfo">
          <!-- Wird von JavaScript gef√ºllt -->
        </div>

        <!-- Content Tabs -->
        <div class="tabs">
          <button class="tab-btn active" data-tab="videos">üìπ Videos</button>
          <button class="tab-btn" data-tab="documents">üìÑ Dokumente</button>
          <button class="tab-btn" data-tab="images">üñºÔ∏è Bilder</button>
        </div>

        <!-- Videos Tab -->
        <div id="videos" class="tab-content active">
          <div class="content-grid" id="videoList">
            <!-- Wird von JavaScript gef√ºllt -->
          </div>
        </div>

        <!-- Documents Tab -->
        <div id="documents" class="tab-content">
          <div class="content-grid" id="documentList">
            <!-- Wird von JavaScript gef√ºllt -->
          </div>
        </div>

        <!-- Images Tab -->
        <div id="images" class="tab-content">
          <div class="content-grid" id="imageList">
            <!-- Wird von JavaScript gef√ºllt -->
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h4>FittiCoach</h4>
            <p>Premium Fitness Training f√ºr deine Ziele</p>
            <p style="margin-top: 10px; font-size: 14px">
              ‚úÖ Jederzeit upgraden<br />
              ‚úÖ Jederzeit downgraden<br />
              ‚úÖ Faire Preise
            </p>
          </div>
          <div class="footer-section">
            <h4>Rechtliches</h4>
            <ul class="footer-links">
              <li><a href="impressum.html">Impressum</a></li>
              <li><a href="datenschutz.html">Datenschutz</a></li>
              <li><a href="cookies.html">Cookie-Richtlinie</a></li>
              <li><a href="agb.html">AGB</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Support</h4>
            <ul class="footer-links">
              <li>
                <a href="mailto:support@fitticoach.de">support@fitticoach.de</a>
              </li>
              <li>
                <a href="#" id="openCookieSettings">Cookie-Einstellungen</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 FittiCoach. Alle Rechte vorbehalten.</p>
        </div>
      </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Anmelden</h2>
        <form id="loginForm">
          <div class="form-group">
            <label>E-Mail</label>
            <input type="email" id="loginEmail" required />
          </div>
          <div class="form-group">
            <label>Passwort</label>
            <input type="password" id="loginPassword" required />
          </div>
          <button type="submit" class="btn btn-primary" style="width: 100%">
            Anmelden
          </button>
          <div class="form-link">
            Noch kein Konto?
            <a href="#" id="showRegister">Jetzt registrieren</a>
          </div>
        </form>
      </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Registrieren</h2>
        <form id="registerForm">
          <div class="form-group">
            <label>Name</label>
            <input type="text" id="registerName" required />
          </div>
          <div class="form-group">
            <label>E-Mail</label>
            <input type="email" id="registerEmail" required />
          </div>
          <div class="form-group">
            <label>Passwort (min. 6 Zeichen)</label>
            <input
              type="password"
              id="registerPassword"
              required
              minlength="6"
            />
          </div>
          <div class="form-group checkbox-group">
            <label>
              <input type="checkbox" id="acceptPrivacy" required />
              Ich akzeptiere die
              <a href="datenschutz.html" target="_blank"
                >Datenschutzerkl√§rung</a
              >
              und <a href="agb.html" target="_blank">AGB</a>
            </label>
          </div>
          <button type="submit" class="btn btn-primary" style="width: 100%">
            Registrieren
          </button>
          <div class="form-link">
            Bereits registriert? <a href="#" id="showLogin">Jetzt anmelden</a>
          </div>
        </form>
      </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Zahlung</h2>
        <div id="paymentInfo">
          <!-- Wird von JavaScript gef√ºllt -->
        </div>
        <form id="paymentForm">
          <p style="color: #999; text-align: center; margin: 2rem 0">
            Du wirst zu Stripe weitergeleitet, um die Zahlung sicher
            abzuschlie√üen.
          </p>
          <button type="submit" class="btn btn-primary" style="width: 100%">
            Zur Zahlung
          </button>
          <p
            style="
              font-size: 13px;
              color: #999;
              text-align: center;
              margin-top: 1rem;
            "
          >
            Mit dem Abschluss akzeptierst du unsere
            <a href="agb.html" target="_blank">AGB</a> und
            <a href="datenschutz.html" target="_blank">Datenschutzerkl√§rung</a>.
            <br />
            <strong>Du kannst jederzeit upgraden oder downgraden.</strong>
          </p>
        </form>
      </div>
    </div>

    <!-- App Script -->
    <script src="app.js"></script>
  </body>
</html>
